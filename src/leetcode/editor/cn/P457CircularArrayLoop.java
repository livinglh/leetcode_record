//ç»™å®šä¸€ä¸ªå«æœ‰æ­£æ•´æ•°å’Œè´Ÿæ•´æ•°çš„ç¯å½¢æ•°ç»„ numsã€‚ å¦‚æœæŸä¸ªç´¢å¼•ä¸­çš„æ•° k ä¸ºæ­£æ•°ï¼Œåˆ™å‘å‰ç§»åŠ¨ k ä¸ªç´¢å¼•ã€‚ç›¸åï¼Œå¦‚æœæ˜¯è´Ÿæ•° (-k)ï¼Œåˆ™å‘åç§»åŠ¨ k ä¸ªç´¢å¼•
//ã€‚å› ä¸ºæ•°ç»„æ˜¯ç¯å½¢çš„ï¼Œæ‰€ä»¥å¯ä»¥å‡è®¾æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ã€‚ 
//
// ç¡®å®š nums ä¸­æ˜¯å¦å­˜åœ¨å¾ªç¯ï¼ˆæˆ–å‘¨æœŸï¼‰ã€‚å¾ªç¯å¿…é¡»åœ¨ç›¸åŒçš„ç´¢å¼•å¤„å¼€å§‹å’Œç»“æŸå¹¶ä¸”å¾ªç¯é•¿åº¦ > 1ã€‚æ­¤å¤–ï¼Œä¸€ä¸ªå¾ªç¯ä¸­çš„æ‰€æœ‰è¿åŠ¨éƒ½å¿…é¡»æ²¿ç€åŒä¸€æ–¹å‘è¿›è¡Œã€‚æ¢å¥è¯è¯´
//ï¼Œä¸€ä¸ªå¾ªç¯ä¸­ä¸èƒ½åŒæ—¶åŒ…æ‹¬å‘å‰çš„è¿åŠ¨å’Œå‘åçš„è¿åŠ¨ã€‚ 
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// è¾“å…¥ï¼š[2,-1,1,2,2]
//è¾“å‡ºï¼štrue
//è§£é‡Šï¼šå­˜åœ¨å¾ªç¯ï¼ŒæŒ‰ç´¢å¼• 0 -> 2 -> 3 -> 0 ã€‚å¾ªç¯é•¿åº¦ä¸º 3 ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// è¾“å…¥ï¼š[-1,2]
//è¾“å‡ºï¼šfalse
//è§£é‡Šï¼šæŒ‰ç´¢å¼• 1 -> 1 -> 1 ... çš„è¿åŠ¨æ— æ³•æ„æˆå¾ªç¯ï¼Œå› ä¸ºå¾ªç¯çš„é•¿åº¦ä¸º 1 ã€‚æ ¹æ®å®šä¹‰ï¼Œå¾ªç¯çš„é•¿åº¦å¿…é¡»å¤§äº 1 ã€‚
// 
//
// ç¤ºä¾‹ 3: 
//
// è¾“å…¥ï¼š[-2,1,-1,-2,-2]
//è¾“å‡ºï¼šfalse
//è§£é‡Šï¼šæŒ‰ç´¢å¼• 1 -> 2 -> 1 -> ... çš„è¿åŠ¨æ— æ³•æ„æˆå¾ªç¯ï¼Œå› ä¸ºæŒ‰ç´¢å¼• 1 -> 2 çš„è¿åŠ¨æ˜¯å‘å‰çš„è¿åŠ¨ï¼Œè€ŒæŒ‰ç´¢å¼• 2 -> 1 çš„è¿åŠ¨æ˜¯å‘åçš„
//è¿åŠ¨ã€‚ä¸€ä¸ªå¾ªç¯ä¸­çš„æ‰€æœ‰è¿åŠ¨éƒ½å¿…é¡»æ²¿ç€åŒä¸€æ–¹å‘è¿›è¡Œã€‚ 
//
// 
//
// æç¤ºï¼š 
//
// 
// -1000 â‰¤ nums[i] â‰¤ 1000 
// nums[i] â‰  0 
// 0 â‰¤ nums.length â‰¤ 5000 
// 
//
// 
//
// è¿›é˜¶ï¼š 
//
// ä½ èƒ½å†™å‡ºæ—¶é—´æ—¶é—´å¤æ‚åº¦ä¸º O(n) å’Œé¢å¤–ç©ºé—´å¤æ‚åº¦ä¸º O(1) çš„ç®—æ³•å—ï¼Ÿ 
// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ 
// ğŸ‘ 38 ğŸ‘ 0

  
package leetcode.editor.cn;
//java:ç¯å½¢æ•°ç»„å¾ªç¯
public class P457CircularArrayLoop{
    public static void main(String[] args) {
        Solution solution = new P457CircularArrayLoop().new Solution();
        solution.circularArrayLoop(new int[]{1,1,2});
    }
    //leetcode submit region begin(Prohibit modification and deletion)
class Solution {
    public boolean circularArrayLoop(int[] nums) {
        int n = nums.length;
        boolean conboolean = false;
        for (int i = 0; i < n; i++) {
            if(nums[i] != 0){ //å¦‚æœé‡åˆ°å·²ç»è®¿é—®è¿‡ï¼Œè¢«æ ‡è®°çš„åœ°æ–¹ å°±ä¸å†è®¿é—®
                int slow = i; //å¯¹äºæ¯ä¸ªiä½ç½®ï¼Œæ…¢æŒ‡é’ˆæŒ‡å‘i
                int fast = i;
                int flag = nums[i] > 0 ? 1 : -1;
                while(flag * nums[fast] > 0 && flag * nums[getNext(nums,fast,n)] > 0) {//æ…¢æŒ‡é’ˆæŒ‡å‘çš„æ•°è¦å’Œå¿«æŒ‡é’ˆæŒ‡å‘çš„æ•°æ­£è´Ÿç›¸åŒï¼Œè¿™ä¸ªä¸éš¾ç†è§£ã€‚å¹¶ä¸”æ…¢æŒ‡é’ˆæŒ‡å‘çš„æ•°è¿˜è¦è·Ÿå¿«æŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªä½ç½®ä¸Šçš„æ•°ç¬¦å·ç›¸åŒ
                    //è‹¥å¿«æ…¢æŒ‡é’ˆè¿˜ä¸ç›¸åŒçš„ï¼Œåˆ™åˆ†åˆ«æ›´æ–°ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
                    slow = getNext(nums,slow,n);
                    fast = getNext(nums,getNext(nums,fast,n),n);

                    if(slow == fast) {
                        if(slow == getNext(nums,slow,n)) {//ç›´åˆ°å½“å¿«æ…¢æŒ‡é’ˆç›¸é‡çš„æ—¶å€™ï¼Œå°±æ˜¯ç¯å‡ºç°çš„æ—¶å€™ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå³ä¾¿å¿«æ…¢æŒ‡é’ˆç›¸é‡äº†ï¼Œä¹Ÿä¸åŒç«‹é©¬è¿”å› trueï¼Œå› ä¸ºé¢˜ç›®ä¸­è¯´äº†äº†ç¯çš„é•¿åº¦å¿…é¡»å¤§äº1ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç”¨æ…¢æŒ‡é’ˆæŒ‡å‘çš„æ•°å’Œæ…¢æŒ‡é’ˆä¸‹ä¸€ä¸ªä½ç½®ä¸Šçš„æ•°æ¯”è¾ƒï¼Œè‹¥ç›¸åŒï¼Œåˆ™è¯´æ˜ç¯çš„é•¿åº¦ä¸º1ï¼Œæ­¤æ—¶å¹¶ä¸è¿”å› falseï¼Œè€Œä¸” break æ‰ while å¾ªç¯ã€‚å› ä¸ºè¿™åªèƒ½è¯´ä»¥iä½ç½®å¼€å§‹çš„é“¾è¡¨æ— ç¬¦åˆè¦æ±‚çš„ç¯è€Œå·²ï¼Œåé¢å¯èƒ½è¿˜ä¼šå‡ºç°ç¬¦åˆè¦æ±‚çš„ç¯ã€‚ä½†æ˜¯è‹¥äºŒè€…ä¸ç›¸åŒçš„è¯ï¼Œåˆ™å·²ç»æ‰¾åˆ°äº†ç¬¦åˆè¦æ±‚çš„ç¯ï¼Œç›´æ¥è¿”å› trueã€‚
                            break;
                        }
                        return true;
                    }
                }
                //å½“ while å¾ªç¯é€€å‡ºåï¼Œæˆ‘ä»¬éœ€è¦æ ‡è®°å·²ç»èµ°è¿‡çš„ç»“ç‚¹ï¼Œä»è€Œæé«˜è¿ç®—æ•ˆç‡ï¼Œæ–¹æ³•å°±æ˜¯å°†æ…¢æŒ‡é’ˆé‡ç½®ä¸ºiï¼Œå†ç”¨ä¸€ä¸ª while å¾ªç¯ï¼Œæ¡ä»¶æ˜¯ nums[i] å’Œ æ…¢æŒ‡é’ˆæŒ‡çš„æ•°æ­£è´Ÿç›¸åŒ
                slow = i;
                while(flag * nums[slow] > 0) {
                    nums[slow] = 0;
                    slow = getNext(nums,slow,n);
                }
            }
        }
        return false;
    }

    public int getNext(int[] nums, int next, int len){
        next = (next + nums[next] + 5000 * len) % len;
        return next;
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}